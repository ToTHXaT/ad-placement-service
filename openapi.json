{"openapi":"3.1.0","info":{"title":"Ad placement service API","version":"0.1.0"},"paths":{"/api/auth/signup":{"post":{"tags":["auth"],"summary":"Signup","operationId":"signup_api_auth_signup_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/login":{"post":{"tags":["auth"],"summary":"Login","operationId":"login_api_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/refresh_tokens":{"get":{"tags":["auth"],"summary":"Refresh Tokens","operationId":"refresh_tokens_api_auth_refresh_tokens_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Success"}}}}},"security":[{"APIKeyCookie":[]}]}},"/api/user/{user_id}/grant-admin":{"post":{"tags":["user"],"summary":"Grant Admin","operationId":"grant_admin_api_user__user_id__grant_admin_post","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/{user_id/ban":{"post":{"tags":["user"],"summary":"Ban User","operationId":"ban_user_api_user__user_id_ban_post","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"user_id","in":"query","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/{user_id}/unban":{"post":{"tags":["user"],"summary":"Unban User","operationId":"unban_user_api_user__user_id__unban_post","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/advert/new":{"post":{"tags":["advert"],"summary":"Create Advert","operationId":"create_advert_api_advert_new_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdvertCreation"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdvertInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/api/advert/all":{"get":{"tags":["advert"],"summary":"List All Adverts","operationId":"list_all_adverts_api_advert_all_get","parameters":[{"name":"sort_by","in":"query","required":false,"schema":{"enum":["created_at","updated_at","id","title","body"],"type":"string","default":"updated_at","title":"Sort By"}},{"name":"sort_dir","in":"query","required":false,"schema":{"enum":["asc","desc"],"type":"string","default":"asc","title":"Sort Dir"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Per Page"}},{"name":"title_includes","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title Includes"}},{"name":"body_includes","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Body Includes"}},{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/AdvertType"},{"type":"null"}],"title":"Type"}},{"name":"since","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Since"}},{"name":"before","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Before"}},{"name":"advertiser__id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Advertiser  Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AdvertInfo"},"title":"Response List All Adverts Api Advert All Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/advert/{advert_id}":{"get":{"tags":["advert"],"summary":"Get Advert Details","operationId":"get_advert_details_api_advert__advert_id__get","parameters":[{"name":"advert_id","in":"path","required":true,"schema":{"type":"integer","title":"Advert Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdvertInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["advert"],"summary":"Delete Advert","operationId":"delete_advert_api_advert__advert_id__delete","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"advert_id","in":"path","required":true,"schema":{"type":"integer","title":"Advert Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Success"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["advert"],"summary":"Update Advert Type","operationId":"update_advert_type_api_advert__advert_id__patch","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"advert_id","in":"path","required":true,"schema":{"type":"integer","title":"Advert Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAdvertType"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdvertInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/advert/{advert_id}/comment/new":{"post":{"tags":["comment"],"summary":"Leave A Comment","operationId":"leave_a_comment_api_advert__advert_id__comment_new_post","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"advert_id","in":"path","required":true,"schema":{"type":"integer","title":"Advert Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentCreation"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/advert/{advert_id}/comments":{"get":{"tags":["comment"],"summary":"Get Comments Of The Advert","operationId":"get_comments_of_the_advert_api_advert__advert_id__comments_get","parameters":[{"name":"advert_id","in":"path","required":true,"schema":{"type":"integer","title":"Advert Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommentInfo"},"title":"Response Get Comments Of The Advert Api Advert  Advert Id  Comments Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/comment/{comment_id}":{"delete":{"tags":["comment"],"summary":"Delete Comment","operationId":"delete_comment_api_comment__comment_id__delete","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"comment_id","in":"path","required":true,"schema":{"type":"integer","title":"Comment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Success"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/advert/{advert_id}/complaint/new":{"post":{"tags":["complaint"],"summary":"Create Complaint","operationId":"create_complaint_api_advert__advert_id__complaint_new_post","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"advert_id","in":"path","required":true,"schema":{"type":"integer","title":"Advert Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplaintCreation"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplaintInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/advert/{advert_id}/complaints":{"get":{"tags":["complaint"],"summary":"Get Complaints Of The Advert","operationId":"get_complaints_of_the_advert_api_advert__advert_id__complaints_get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"advert_id","in":"path","required":true,"schema":{"type":"integer","title":"Advert Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ComplaintInfo"},"title":"Response Get Complaints Of The Advert Api Advert  Advert Id  Complaints Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/complaints":{"get":{"tags":["complaint"],"summary":"Get Complaints","operationId":"get_complaints_api_complaints_get","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ComplaintInfo"},"title":"Response Get Complaints Api Complaints Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AdvertCreation":{"properties":{"title":{"type":"string","title":"Title"},"body":{"type":"string","title":"Body"},"compensation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Compensation"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location"},"type":{"$ref":"#/components/schemas/AdvertType"}},"type":"object","required":["title","body","type"],"title":"AdvertCreation"},"AdvertInfo":{"properties":{"title":{"type":"string","title":"Title"},"body":{"type":"string","title":"Body"},"compensation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Compensation"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location"},"type":{"$ref":"#/components/schemas/AdvertType"},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"advertiser":{"$ref":"#/components/schemas/UserInfo"}},"type":"object","required":["title","body","type","id","created_at","updated_at","advertiser"],"title":"AdvertInfo"},"AdvertType":{"type":"string","enum":["purchase","sell","service"],"title":"AdvertType"},"CommentCreation":{"properties":{"body":{"type":"string","title":"Body"}},"type":"object","required":["body"],"title":"CommentCreation"},"CommentInfo":{"properties":{"id":{"type":"integer","title":"Id"},"body":{"type":"string","title":"Body"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"user":{"$ref":"#/components/schemas/UserInfo"}},"type":"object","required":["id","body","created_at","user"],"title":"CommentInfo"},"ComplaintCreation":{"properties":{"body":{"type":"string","title":"Body"}},"type":"object","required":["body"],"title":"ComplaintCreation"},"ComplaintInfo":{"properties":{"body":{"type":"string","title":"Body"},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"complainant_id":{"type":"integer","title":"Complainant Id"},"advert_id":{"type":"integer","title":"Advert Id"}},"type":"object","required":["body","id","created_at","complainant_id","advert_id"],"title":"ComplaintInfo"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Success":{"properties":{"success":{"const":true,"title":"Success"}},"type":"object","required":["success"],"title":"Success"},"UpdateAdvertType":{"properties":{"new_type":{"$ref":"#/components/schemas/AdvertType"}},"type":"object","required":["new_type"],"title":"UpdateAdvertType"},"UserCreate":{"properties":{"username":{"type":"string","maxLength":128,"title":"Username"},"password":{"type":"string","title":"Password"},"shown_name":{"anyOf":[{"type":"string","maxLength":128},{"type":"null"}],"title":"Shown Name"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"}},"type":"object","required":["username","password","shown_name"],"title":"UserCreate"},"UserInfo":{"properties":{"id":{"type":"integer","title":"Id"},"username":{"type":"string","title":"Username"},"registered_at":{"type":"string","format":"date-time","title":"Registered At"},"shown_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Shown Name"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"is_admin":{"type":"boolean","title":"Is Admin"},"is_banned":{"type":"boolean","title":"Is Banned"}},"type":"object","required":["id","username","registered_at","is_admin","is_banned"],"title":"UserInfo"},"UserLogin":{"properties":{"username":{"type":"string","maxLength":128,"title":"Username"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","password"],"title":"UserLogin"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"APIKeyCookie":{"type":"apiKey","in":"cookie","name":"access_token"}}}}